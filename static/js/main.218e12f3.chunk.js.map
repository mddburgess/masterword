{"version":3,"sources":["store/evaluator.ts","store/index.ts","components/WordInput.tsx","components/WordList.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["evaluateCorrect","candidate","solution","filter","char","index","length","evaluatePresent","presentLetters","count","Map","set","get","c","evaluate","candidateChars","toLowerCase","split","solutionChars","correctLetters","slice","createSlice","name","initialState","codeword","guesses","reducers","startNewGame","state","rword","generate","guessWord","action","unshift","payload","store","configureStore","reducer","actions","mapDispatchToProps","connector","connect","undefined","useState","word","setWord","onSubmit","event","preventDefault","type","autoFocus","value","onChange","target","map","guess","useEffect","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gYAeMA,EAAkB,SAACC,EAAqBC,GAAtB,OACpBD,EAAUE,QAAO,SAACC,EAAMC,GAAP,OAAiBH,EAASG,KAAWD,KAAME,QAE1DC,EAAkB,SAACN,EAAqBC,GAC1C,IADiE,EAC7DM,EAAiB,EACfC,EAAQ,IAAIC,IAF+C,cAG9CT,GAH8C,2BAGtDG,EAHsD,QAI7DK,EAAME,IAAIP,GAAM,UAACK,EAAMG,IAAIR,UAAX,QAAoB,GAAK,GACrCF,EAASC,QAAO,SAAAU,GAAC,OAAIA,IAAMT,KAAME,QAAUG,EAAMG,IAAIR,IACrDI,KAHR,2BAA+B,IAHkC,8BASjE,OAAOA,GAGIM,EA5BE,SAACb,EAAmBC,GACjC,IAAMa,EAAiBd,EAAUe,cAAcC,MAAM,IAC/CC,EAAgBhB,EAASc,cAAcC,MAAM,IAC7CE,EAAiBnB,EAAgBe,EAAgBG,GAGvD,MAAO,CACHjB,YACAkB,iBACAX,eALmBD,EAAgBQ,EAAgBG,GAAiBC,I,SCctEC,EAAQC,YAAY,CACtBC,KAAM,aACNC,aAP6B,CAC7BC,SAAU,GACVC,QAAS,IAMTC,SAAU,CACNC,aAAe,SAAAC,GACXA,EAAMJ,SAAWK,QAAMC,SAAS,EAAG,CAACxB,OAAQ,SAEhDyB,UAAY,SAACH,EAAOI,GAChBJ,EAAMH,QAAQQ,QAAQnB,EAASkB,EAAOE,QAASN,EAAMJ,eASlDW,EAJDC,YAAe,CACzBC,QAASjB,EAAMiB,UAKNC,EAAUlB,EAAMkB,Q,OCnCvBC,EAAqB,CACvBR,UAAWO,EAAQP,WA0BRS,EAxBGC,iBAAQC,EAAWH,EAwBtBC,EArBG,SAAC,GAAwB,IAAvBT,EAAsB,EAAtBA,UAAsB,EAEdY,mBAAS,IAFK,mBAE/BC,EAF+B,KAEzBC,EAFyB,KActC,OACI,sBAAMC,SAP0C,SAACC,GACjDA,EAAMC,iBACNjB,EAAUa,GACVC,EAAQ,KAIR,SACI,uBAAOI,KAAK,OAAOC,WAAW,EAAMC,MAAOP,EAAMQ,SAZF,SAACL,GACpDF,EAAQE,EAAMM,OAAOF,eCAdX,EATGC,aAHM,SAACb,GAAD,MAAwB,CAC5CH,QAASG,EAAMH,WAWJe,EANE,SAAC,GAAD,IAAEf,EAAF,EAAEA,QAAF,OACb,6BACKA,EAAQ6B,KAAI,SAAAC,GAAK,OAAK,+BAAKA,EAAMtD,UAAX,IAAuBsD,EAAMpC,eAA7B,IAA8CoC,EAAM/C,0BCF7E+B,EAAqB,CACvBZ,aAAcW,EAAQX,cAoBXa,EAlBGC,aANM,SAACb,GAAD,MAAwB,CAC5CJ,SAAUI,EAAMJ,YAKuBe,EAkB5BC,EAfH,SAAC,GAAqC,IAApChB,EAAmC,EAAnCA,SAAUG,EAAyB,EAAzBA,aAKpB,OAJA6B,qBAAU,WACN7B,MACD,CAACA,IAGA,sBAAK8B,UAAU,MAAf,+BACsB,iCAASjC,EAASlB,SADxC,gBAEI,cAAC,EAAD,IACA,cAAC,EAAD,UCVGoD,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCFdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,CAAUlC,MAAOA,EAAjB,SACI,cAAC,EAAD,QAGRmC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.218e12f3.chunk.js","sourcesContent":["import {Guess} from './index';\n\nconst evaluate = (candidate: string, solution: string): Guess => {\n    const candidateChars = candidate.toLowerCase().split('');\n    const solutionChars = solution.toLowerCase().split('');\n    const correctLetters = evaluateCorrect(candidateChars, solutionChars);\n    const presentLetters = evaluatePresent(candidateChars, solutionChars) - correctLetters;\n\n    return {\n        candidate,\n        correctLetters,\n        presentLetters\n    }\n}\n\nconst evaluateCorrect = (candidate: string[], solution: string[]) =>\n    candidate.filter((char, index) => solution[index] === char).length;\n\nconst evaluatePresent = (candidate: string[], solution: string[]) => {\n    let presentLetters = 0;\n    const count = new Map<string, number>();\n    for (const char of candidate) {\n        count.set(char, (count.get(char) ?? 0) + 1);\n        if (solution.filter(c => c === char).length >= count.get(char)!) {\n            presentLetters++;\n        }\n    }\n    return presentLetters;\n}\n\nexport default evaluate;\n","import {configureStore, createSlice, PayloadAction} from '@reduxjs/toolkit';\nimport evaluate from './evaluator';\nimport {rword} from 'rword';\n\nexport type Guess = {\n    candidate: string,\n    correctLetters: number,\n    presentLetters: number\n}\n\ntype SliceState = {\n    codeword: string,\n    guesses: Guess[]\n}\n\nconst initialState: SliceState = {\n    codeword: '',\n    guesses: []\n}\n\nconst slice = createSlice({\n    name: 'masterword',\n    initialState,\n    reducers: {\n        startNewGame: (state => {\n            state.codeword = rword.generate(1, {length: \"5-8\"}) as string;\n        }),\n        guessWord: ((state, action: PayloadAction<string>) => {\n            state.guesses.unshift(evaluate(action.payload, state.codeword));\n        })\n    }\n});\n\nconst store = configureStore({\n    reducer: slice.reducer\n});\n\nexport default store;\nexport type StoreState = ReturnType<typeof store.getState>;\nexport const actions = slice.actions;\n","import {ChangeEventHandler, FormEventHandler, useState} from 'react';\nimport {connect, ConnectedProps} from 'react-redux';\nimport {actions} from '../store';\n\nconst mapDispatchToProps = {\n    guessWord: actions.guessWord\n}\nconst connector = connect(undefined, mapDispatchToProps);\ntype Props = ConnectedProps<typeof connector>;\n\nconst WordInput = ({guessWord}: Props) => {\n\n    const [word, setWord] = useState(\"\");\n\n    const onChange: ChangeEventHandler<HTMLInputElement> = (event) => {\n        setWord(event.target.value);\n    }\n\n    const onSubmit: FormEventHandler<HTMLFormElement> = (event) => {\n        event.preventDefault();\n        guessWord(word);\n        setWord(\"\");\n    }\n\n    return (\n        <form onSubmit={onSubmit}>\n            <input type=\"text\" autoFocus={true} value={word} onChange={onChange}/>\n        </form>\n    );\n}\n\nexport default connector(WordInput);\n","import {StoreState} from \"../store\";\nimport {connect, ConnectedProps} from \"react-redux\";\n\nconst mapStateToProps = (state: StoreState) => ({\n    guesses: state.guesses\n})\nconst connector = connect(mapStateToProps);\ntype Props = ConnectedProps<typeof connector>;\n\nconst WordList = ({guesses}: Props) => (\n    <ul>\n        {guesses.map(guess => (<li>{guess.candidate} {guess.correctLetters} {guess.presentLetters}</li>))}\n    </ul>\n);\n\nexport default connector(WordList);\n","import React, {useEffect} from 'react';\nimport WordInput from './components/WordInput';\nimport WordList from './components/WordList';\nimport {actions, StoreState} from './store';\nimport {connect, ConnectedProps} from 'react-redux';\n\nconst mapStateToProps = (state: StoreState) => ({\n    codeword: state.codeword\n})\nconst mapDispatchToProps = {\n    startNewGame: actions.startNewGame\n}\nconst connector = connect(mapStateToProps, mapDispatchToProps);\ntype Props = ConnectedProps<typeof connector>;\n\nconst App = ({codeword, startNewGame}: Props) => {\n    useEffect(() => {\n        startNewGame();\n    }, [startNewGame]);\n\n    return (\n        <div className=\"App\">\n            I'm thinking of a <strong>{codeword.length}</strong> letter word.\n            <WordInput />\n            <WordList />\n        </div>\n\n    );\n};\n\nexport default connector(App);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n          <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}